<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="pageTitle">–ú–∞—Ä—à—Ä—É—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ v4.3</title>
    <style>
        :root {
            --bg: #f4f7f9; --card: #ffffff; --ink: #2c3e50; --muted: #7f8c8d; --accent: #27ae60;
            --danger: #e74c3c; --warn: #f39c12; --line: #dfe4ea; --header-bg: #ecf0f1;
            --primary-btn-bg: #3498db; --primary-btn-border: #2980b9;
        }
        html, body { height: 100%; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background: var(--bg); color: var(--ink); margin: 0; line-height: 1.5; font-size: 14px;
        }
        .app { max-width: 1600px; margin: 24px auto; padding: 0 16px 64px; }
        h1 { font-size: 1.8rem; margin: 0; color: #34495e; }
        h2 { font-size: 1.2rem; margin: 24px 0 12px; color: #34495e; border-bottom: 2px solid var(--header-bg); padding-bottom: 8px; }
        .toolbar { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; justify-content: space-between; margin-bottom: 16px; }
        .toolbar .left, .toolbar .right { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; }
        .header-controls { display: flex; align-items: center; gap: 16px; flex-wrap: wrap; }
        #exampleLoader { font-size: .9rem; padding: 6px 10px; width: auto; border-radius: 8px; }
        .card { background: var(--card); border: 1px solid var(--line); border-radius: 12px; padding: 16px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05); margin-bottom: 16px; }
        label { font-size: .9rem; color: var(--muted); font-weight: 600; margin-bottom: 4px; display: block; }
        input, select, textarea, button {
            background: #fff; color: var(--ink); border: 1px solid var(--line); border-radius: 8px; padding: 9px 12px; font-size: .95rem; width: 100%; box-sizing: border-box;
        }
        input:focus, select:focus, textarea:focus { outline: 2px solid #3498db; border-color: transparent; }
        textarea { resize: none; overflow-y: hidden; min-height: 40px; }
        .grid { display: grid; gap: 16px; }
        .meta-grid { grid-template-columns: repeat(6, 1fr); }
        .meta-grid .grid-span-full { grid-column: 1 / -1; }
        .meta-grid .grid-span-2 { grid-column: span 2; }
        .meta-grid .grid-span-3 { grid-column: span 3; }
        @media (max-width: 900px) { .meta-grid .grid-span-2, .meta-grid .grid-span-3 { grid-column: span 6; } }
        @media (max-width: 1200px) and (min-width: 901px) { .meta-grid .grid-span-3 { grid-column: span 6; } }

        .ok { color: var(--accent); } .bad { color: var(--danger); }
        .btn { cursor: pointer; transition: all .1s ease; user-select: none; border: none; color: #fff; width: auto; }
        .btn:hover { opacity: 0.9; } .btn:active { transform: scale(0.98); }
        .btn.primary { background: var(--primary-btn-bg); } .btn.secondary { background: #95a5a6; } .btn.danger { background: var(--danger); }
        .btn.small { padding: 5px 10px; font-size: .85rem; border-radius: 6px; }
        .lang-btn { background: #fff; color: var(--ink); padding: 6px 12px; font-size: 1.2rem; line-height: 1; }
        .lang-btn.active { outline: 2px solid var(--primary-btn-bg); box-shadow: 0 0 5px rgba(52, 152, 219, 0.5); }

        .row-actions { display: flex; gap: 6px; align-items: center; justify-content: center; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid var(--line); padding: 8px; vertical-align: top; text-align: left; }
        th { background: var(--header-bg); font-weight: 600; color: #34495e; white-space: nowrap; }
        .phase-header td { background: #3498db; color: white; font-weight: bold; }
        .step-header td { background: var(--header-bg); font-weight: bold; }
        .kpi { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; }
        .kpi .box { background: var(--header-bg); border: 1px solid var(--line); padding: 8px 12px; border-radius: 8px; }
        .spacer { flex: 1; }
        .section-actions { display: flex; gap: 8px; justify-content: flex-end; margin-top: 12px; }
        .footnote { font-size: .85rem; color: var(--muted); text-align: center; margin-top: 20px; }
        input[type="number"] { text-align: right; }
        .text-center { text-align: center; }
        .print-only { display: none; }
        .fill-in { min-height: 1.3em; }
        .print-content { display: none; }
        
        /* MODAL STYLES */
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); backdrop-filter: blur(2px); }
        .modal-content { background: var(--card); margin: 10% auto; padding: 24px; border-radius: 12px; width: 90%; max-width: 500px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 1px solid var(--line); padding-bottom: 12px; }
        .modal-header h3 { margin: 0; font-size: 1.3rem; }
        .modal-body .option-section { margin-bottom: 20px; }
        .modal-body .option-section strong { display: block; margin-bottom: 10px; color: var(--muted); font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.5px; }
        .modal-body .checkbox-group { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .modal-body .checkbox-item { display: flex; align-items: center; gap: 8px; }
        .modal-body .checkbox-item input { width: auto; }
        .modal-body .checkbox-item label { margin: 0; font-weight: normal; cursor: pointer; }
        .modal-footer { display: flex; justify-content: flex-end; margin-top: 20px; }

        @media print {
            body { background: #fff; color: #000; font-size: 10px; line-height: 1.3; }
            .app { max-width: 100%; margin: 0; padding: 10px; box-shadow: none; }
            .card { box-shadow: none; border: 1px solid #ccc; page-break-inside: avoid; padding: 10px; border-radius: 0; }
            .toolbar, .section-actions, .row-actions, .no-print, .modal { display: none !important; }
            h1, h2 { font-size: 1.2rem; color: #000; page-break-after: avoid; margin: 12px 0 8px; padding-bottom: 4px; border-color: #ccc; }
            h1 { font-size: 1.5rem; text-align: center; }
            textarea { display: none !important; }
            input, select { border: none; padding: 0; background: transparent; color: #000; -webkit-print-color-adjust: exact; width: 100%; font-size: inherit; font-family: inherit; box-shadow: none; outline: none; }
            .print-content { display: block !important; white-space: pre-wrap; word-break: break-word; font-family: inherit; font-size: inherit; }
            table { page-break-inside: auto; table-layout: fixed; }
            tr { page-break-inside: avoid; page-break-after: auto; }
            th, td { padding: 4px; border: 1px solid #aaa; vertical-align: middle; word-wrap: break-word; }
            th, .phase-header td { background-color: #e0e0e0 !important; color: #000 !important; -webkit-print-color-adjust: exact; }
            .print-only { display: table-cell !important; }
            .fill-in { border-bottom: none; }

            .card .meta-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0 16px; padding: 0; }
            .card .meta-grid > div { grid-column: auto !important; display: flex; align-items: baseline; border-bottom: 1px dotted #ccc; padding: 2px 0; }
            .card .meta-grid label { font-weight: 600; margin-right: 6px; padding: 0; color: #000; }
            .card .meta-grid label::after { content: ":"; }
            
            body.print-hide-description .description-card,
            body.print-hide-performance .performance-card,
            body.print-hide-stability .stability-card,
            body.print-hide-supplier .supplier-col,
            body.print-hide-function .func-col,
            body.print-hide-notes .notes-col { display: none; }
            
            body.print-name-trade .inci-col,
            body.print-name-inci .trade-col { display: none; }

            body.print-force-hide-description .description-card,
            body.print-force-hide-performance .performance-card,
            body.print-force-hide-stability .stability-card {
                display: none !important;
            }
        }
    </style>
</head>
<body>
<div class="app">
    <!-- TOOLBAR -->
    <div class="toolbar card no-print">
        <div class="left">
            <div class="header-controls">
                <h1 data-i18n="title">–ú–∞—Ä—à—Ä—É—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞</h1>
                <select id="exampleLoader">
                    <option value="" data-i18n="loadExample">-- –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∏–º–µ—Ä --</option>
                </select>
            </div>
        </div>
        <div class="right">
            <div class="lang-switcher" style="display: flex; gap: 5px;">
                <button class="btn lang-btn" id="langRuBtn" title="–†—É—Å—Å–∫–∏–π">üá∑üá∫</button>
                <button class="btn lang-btn" id="langEnBtn" title="English">üá¨üáß</button>
            </div>
            <button class="btn secondary" id="printSettingsBtn" data-i18n="printSettings" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—á–∞—Ç–∏">‚öôÔ∏è</button>
            <button class="btn primary" id="printBtn" data-i18n="print">üñ®Ô∏è –ü–µ—á–∞—Ç—å / PDF</button>
            <button class="btn secondary" id="saveBtn" data-i18n="save">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å JSON</button>
            <label class="btn secondary" for="loadInput" data-i18n="load">üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å JSON</label>
            <input type="file" id="loadInput" class="no-print" accept=".json" style="display:none" />
            <button class="btn danger" id="clearBtn" data-i18n="clear">‚ùå –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É</button>
        </div>
    </div>

    <!-- PRINT SETTINGS MODAL -->
    <div id="printModal" class="modal no-print">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="printSettings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—á–∞—Ç–∏</h3>
                <button class="btn secondary small" id="closeModalBtn">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="option-section">
                    <label for="printNameSelect" data-i18n="printNamePriority">–û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ:</label>
                    <select id="printNameSelect">
                        <option value="trade" data-i18n="printTradeName">–¢–æ—Ä–≥–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ</option>
                        <option value="inci" data-i18n="printInciName">INCI</option>
                    </select>
                </div>
                <div class="option-section">
                    <strong data-i18n="printShowBlocks">–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –±–ª–æ–∫–∏:</strong>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="printShowDescription" checked>
                            <label for="printShowDescription" data-i18n="printDescription">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="printShowPerformance" checked>
                            <label for="printShowPerformance" data-i18n="printPerformance">–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="printShowStability" checked>
                            <label for="printShowStability" data-i18n="printStability">–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å</label>
                        </div>
                    </div>
                </div>
                <div class="option-section">
                    <strong data-i18n="printShowColumns">–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∫–æ–ª–æ–Ω–∫–∏:</strong>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="printShowFunction" checked>
                            <label for="printShowFunction" data-i18n="printFunction">–§—É–Ω–∫—Ü–∏—è</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="printShowSupplier" checked>
                            <label for="printShowSupplier" data-i18n="printSupplier">–ü–æ—Å—Ç–∞–≤—â–∏–∫</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="printShowNotes" checked>
                            <label for="printShowNotes" data-i18n="printNotes">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn primary" id="applySettingsBtn" data-i18n="close">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- META INFO -->
    <div class="card">
        <h2 data-i18n="meta">–ö–∞—Ä—Ç–æ—á–∫–∞ –∏–∑–¥–µ–ª–∏—è</h2>
        <div class="grid meta-grid">
            <div class="grid-span-3"><label data-i18n="productName">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞</label><input id="productName" /></div>
            <div class="grid-span-2"><label data-i18n="productCode">–ö–æ–¥ / –ê—Ä—Ç–∏–∫—É–ª</label><input id="productCode" /></div>
            <div><label data-i18n="version">–í–µ—Ä—Å–∏—è</label><input id="docVersion" value="1.0" /></div>
            
            <div class="grid-span-3"><label data-i18n="regulations">–ù–æ—Ä–º–∞—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</label><input id="regulations" /></div>
            <div class="grid-span-2"><label data-i18n="author">–¢–µ—Ö–Ω–æ–ª–æ–≥</label><input id="author" /></div>
            <div><label data-i18n="date">–î–∞—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞</label><input id="docDate" type="date" /></div>
            
            <div><label data-i18n="batchSize">–†–∞–∑–º–µ—Ä –ø–∞—Ä—Ç–∏–∏ (–∫–≥)</label><input id="batchSize" type="number" min="0" step="0.01" value="100" /></div>
            
            <div class="grid-span-full description-card">
                <label data-i18n="description">–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞</label>
                <textarea id="description" rows="2"></textarea>
                <div class="print-content" id="description-print"></div>
            </div>
        </div>
    </div>

    <!-- FORMULATION TABLE -->
    <div class="card">
        <div class="kpi">
            <h2 data-i18n="formulation">–†–µ—Ü–µ–ø—Ç—É—Ä–∞</h2>
            <span class="spacer"></span>
            <div class="box"><span class="muted" data-i18n="totalPercent">–°—É–º–º–∞ %:</span> <strong id="sumPercent">0.00%</strong></div>
        </div>
        <table id="formTable">
            <thead><tr>
                <th style="width:5%" data-i18n="phase">–§–∞–∑–∞</th>
                <th class="trade-col" style="width:20%" data-i18n="tradeName">–¢–æ—Ä–≥. –Ω–∞–∑–≤–∞–Ω–∏–µ</th>
                <th class="inci-col" style="width:20%" data-i18n="inciName">INCI</th>
                <th class="func-col" style="width:15%" data-i18n="func">–§—É–Ω–∫—Ü–∏—è</th>
                <th class="supplier-col" style="width:10%" data-i18n="supplier">–ü–æ—Å—Ç–∞–≤—â–∏–∫</th>
                <th class="notes-col" style="width:10%" data-i18n="notes">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</th>
                <th style="width:6%" data-i18n="percent">%</th>
                <th style="width:8%" data-i18n="mass">–ó–∞–≥—Ä—É–∑–∫–∞, –∫–≥</th>
                <th style="width:6%" class="no-print" data-i18n="actions">–î–µ–π—Å—Ç–≤–∏—è</th>
                <th class="print-only" data-i18n="actualMass">–§–∞–∫—Ç, –∫–≥</th>
            </tr></thead>
            <tbody id="formBody"></tbody>
        </table>
        <div class="section-actions no-print"><button class="btn primary small" id="addIngredientBtn" data-i18n="addIngredient">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç</button></div>
    </div>

    <!-- PERFORMANCE DATA -->
    <div class="card performance-card">
        <h2 data-i18n="performance">–î–∞–Ω–Ω—ã–µ –æ–± —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h2>
        <table id="perfTable">
            <thead><tr>
                <th style="width:40%" data-i18n="perfParam">–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
                <th style="width:40%" data-i18n="perfValue">–ó–Ω–∞—á–µ–Ω–∏–µ</th>
                <th style="width:20%" class="no-print" data-i18n="actions">–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr></thead>
            <tbody id="perfBody"></tbody>
        </table>
        <div class="section-actions no-print"><button class="btn primary small" id="addPerfBtn" data-i18n="addPerf">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä</button></div>
    </div>

    <!-- STABILITY DATA -->
    <div class="card stability-card">
        <h2 data-i18n="stability">–î–∞–Ω–Ω—ã–µ –æ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏</h2>
        <table id="stabTable">
            <thead><tr>
                <th style="width:40%" data-i18n="stabCondition">–£—Å–ª–æ–≤–∏–µ</th>
                <th style="width:40%" data-i18n="stabResult">–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
                <th style="width:20%" class="no-print" data-i18n="actions">–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr></thead>
            <tbody id="stabBody"></tbody>
        </table>
        <div class="section-actions no-print"><button class="btn primary small" id="addStabBtn" data-i18n="addStab">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç</button></div>
    </div>

    <!-- EQUIPMENT LIST -->
    <div class="card">
        <h2 data-i18n="equipmentList">–°–ø–∏—Å–æ–∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</h2>
        <table id="equipmentTable">
            <thead><tr>
                <th style="width:15%" data-i18n="eqShortName">ID / –ö–æ–¥</th>
                <th style="width:35%" data-i18n="eqFullName">–ü–æ–ª–Ω–æ–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th>
                <th style="width:35%" data-i18n="eqNotes">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è / –§—É–Ω–∫—Ü–∏—è</th>
                <th style="width:15%" class="no-print" data-i18n="actions">–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr></thead>
            <tbody id="equipmentBody"></tbody>
        </table>
        <div class="section-actions no-print"><button class="btn primary small" id="addEquipmentBtn" data-i18n="addEquipment">‚ûï –î–æ–±–∞–≤–∏—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</button></div>
    </div>

    <!-- PROCESS TABLE -->
    <div class="card">
        <h2 data-i18n="process">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å</h2>
        <table id="procTable">
            <thead><tr>
                <th style="width:5%" data-i18n="step">‚Ññ</th>
                <th style="width:30%" data-i18n="opDescription">–û–ø–∏—Å–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</th>
                <th style="width:20%" data-i18n="equipment">–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</th>
                <th style="width:20%" data-i18n="paramName">–ü–∞—Ä–∞–º–µ—Ç—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞</th>
                <th style="width:10%" data-i18n="norm">–ù–æ—Ä–º–∞</th>
                <th style="width:15%" class="no-print" data-i18n="actions">–î–µ–π—Å—Ç–≤–∏—è</th>
                <th class="print-only" data-i18n="actual">–§–∞–∫—Ç</th>
            </tr></thead>
            <tbody id="procBody"></tbody>
        </table>
        <div class="section-actions no-print"><button class="btn primary small" id="addProcBtn" data-i18n="addStep">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞–¥–∏—é</button></div>
    </div>

    <!-- QC TABLE -->
    <div class="card">
        <h2 data-i18n="qc">–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ (–û–ö–ö)</h2>
        <div id="qcContainer"></div>
        <div class="section-actions no-print"><button class="btn primary small" id="addQcBtn" data-i18n="addQc">‚ûï –î–æ–±–∞–≤–∏—Ç—å –±–ª–æ–∫ –∫–æ–Ω—Ç—Ä–æ–ª—è</button></div>
    </div>
    
    <div class="footnote no-print"><span data-i18n="foot">–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ.</span></div>
</div>

<!-- TEMPLATES -->
<template id="ingredientRowTpl">
    <tr>
        <td><input class="data-field text-center" data-key="phase" maxlength="5"></td>
        <td class="trade-col">
            <textarea class="data-field" data-key="tradeName" rows="1"></textarea>
            <div class="print-content" data-key="tradeName-print"></div>
        </td>
        <td class="inci-col">
            <textarea class="data-field" data-key="inciName" rows="1"></textarea>
            <div class="print-content" data-key="inciName-print"></div>
        </td>
        <td class="func-col">
            <textarea class="data-field" data-key="func" rows="1"></textarea>
            <div class="print-content" data-key="func-print"></div>
        </td>
        <td class="supplier-col"><input class="data-field" data-key="supplier"></td>
        <td class="notes-col"><input class="data-field" data-key="notes"></td>
        <td><input class="data-field text-center" data-key="percent" type="number" min="0" max="100" step="0.01" value="0"></td>
        <td class="mass-cell" style="text-align: right;">0.000</td>
        <td class="no-print row-actions"><button class="btn danger small delBtn" data-i18n="del">–£–¥–∞–ª–∏—Ç—å</button></td>
        <td class="print-only"><div class="fill-in"></div></td>
    </tr>
</template>

<template id="perfRowTpl">
    <tr>
        <td><input class="data-field" data-key="parameter"></td>
        <td><input class="data-field" data-key="value"></td>
        <td class="no-print row-actions"><button class="btn danger small delBtn" data-i18n="del">–£–¥–∞–ª–∏—Ç—å</button></td>
    </tr>
</template>

<template id="stabRowTpl">
    <tr>
        <td><input class="data-field" data-key="condition"></td>
        <td><input class="data-field" data-key="result"></td>
        <td class="no-print row-actions"><button class="btn danger small delBtn" data-i18n="del">–£–¥–∞–ª–∏—Ç—å</button></td>
    </tr>
</template>

<template id="equipmentRowTpl">
    <tr>
        <td><input class="data-field" data-key="shortName"></td>
        <td><input class="data-field" data-key="fullName"></td>
        <td><textarea class="data-field" data-key="notes" rows="1"></textarea></td>
        <td class="no-print row-actions"><button class="btn danger small delBtn" data-i18n="del">–£–¥–∞–ª–∏—Ç—å</button></td>
    </tr>
</template>

<template id="procStepRowTpl">
    <tr class="step-header">
        <td class="step-number" style="text-align: center; vertical-align: middle;"></td>
        <td class="step-description" style="vertical-align: middle;">
            <textarea class="data-field" data-key="description" rows="2"></textarea>
            <div class="print-content" data-key="description-print"></div>
        </td>
        <td class="step-equipment" style="vertical-align: middle;">
            <textarea class="data-field" data-key="equipment" rows="2"></textarea>
            <div class="print-content" data-key="equipment-print"></div>
        </td>
    </tr>
</template>

<template id="procParamRowTpl">
    <tr class="param-row">
        <td><input class="data-field" data-key="name"></td>
        <td><input class="data-field" data-key="norm"></td>
        <td class="no-print row-actions"><button class="btn danger small delParamBtn" data-i18n="del">X</button></td>
        <td class="print-only"><div class="fill-in"></div></td>
    </tr>
</template>

<template id="qcBlockTpl">
    <div class="qc-block" style="margin-bottom: 20px;">
        <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
            <input class="data-field" data-key="name" style="font-weight:bold; font-size:1.1rem; border:none; border-bottom:1px solid #ccc; flex:1;">
            <button class="btn danger small delQcBtn no-print" data-i18n="delBlock">–£–¥–∞–ª–∏—Ç—å –±–ª–æ–∫</button>
        </div>
        <table>
            <thead><tr>
                <th data-i18n="qcParamName">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è</th>
                <th data-i18n="qcStandard">–ù–æ—Ä–º–∞—Ç–∏–≤</th>
                <th data-i18n="qcResult">–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
                <th class="no-print" data-i18n="actions">–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr></thead>
            <tbody></tbody>
        </table>
        <div class="section-actions no-print">
            <button class="btn primary small addQcCheckBtn" data-i18n="addQcCheck">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É</button>
        </div>
    </div>
</template>

<template id="qcCheckRowTpl">
    <tr>
        <td><input class="data-field" data-key="parameter"></td>
        <td><input class="data-field" data-key="standard"></td>
        <td><div class="fill-in"></div></td>
        <td class="no-print row-actions"><button class="btn danger small delQcCheckBtn" data-i18n="del">X</button></td>
    </tr>
</template>

<script src="js/main.js" type="module"></script>

</body>
</html>